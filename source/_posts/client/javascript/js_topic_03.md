---
title: JS --正则表达式/常用js正则表达式
date: 2019-05-5 16:14:28
tags: javascript
category: 前端
---

# 正则
## 修饰符号
`i :匹配时忽略大小写 g : 匹配时全局匹配,查找所有匹配项,而非查找到一个既停止`
## 匹配模式
方括号
---方括号用于查找某个范围内的字符：


表达式|描述
:--|:--
[abc]|查找方括号之间的任何字符。
[^abc]|查找任何不在方括号之间的字符。
[0-9]|查找任何从 0 至 9 的数字。
[a-z]|查找任何从小写 a 到小写 z 的字符。
[A-Z]|查找任何从大写 A 到大写 Z 的字符。
[A-z]|查找任何从大写 A 到小写 z 的字符。
[adgk]|查找给定集合内的任何字符。
[^adgk]|查找给定集合外的任何字符。
(red&&#124;blue&&#124;green)|查找任何指定的选项。

元字符
--元字符（Metacharacter）是拥有特殊含义的字符：

元字符|描述
:--|:--
.|查找单个字符，除了换行和行结束符。
\w|查找单词字符。
\W|查找非单词字符。
\d|查找数字。
\D|查找非数字字符。
\s|查找空白字符。
\S|查找非空白字符。
\b|匹配单词边界。
\B|匹配非单词边界。
\0|查找 NUL 字符。
\n|查找换行符。
\f|查找换页符。
\r|查找回车符。
\t|查找制表符。
\v|查找垂直制表符。
\xxx|查找以八进制数 xxx 规定的字符。
\xdd|查找以十六进制数 dd 规定的字符。
\uxxxx|查找以十六进制数 xxxx 规定的 Unicode 字符。

量词

量词|描述
:--|:--
n+|匹配任何包含至少一个 n 的字符串。
n*|匹配任何包含零个或多个 n 的字符串。
n?|匹配任何包含零个或一个 n 的字符串。
n{X}|匹配包含 X 个 n 的序列的字符串。
n{X,Y}|匹配包含 X 或 Y 个 n 的序列的字符串。
n{X,}|匹配包含至少 X 个 n 的序列的字符串。
n$|匹配任何结尾为 n 的字符串。
^n|匹配任何开头为 n 的字符串。
?=n|匹配任何其后紧接指定字符串 n 的字符串。
?!n|匹配任何其后没有紧接指定字符串 n 的字符串。

RegExp 对象方法

方法|描述
:--|:--
compile|编译正则表达式。
exec|检索字符串中指定的值。返回找到的值，并确定其位置。
test|检索字符串中指定的值。返回 true 或 false。

支持正则表达式的 String 对象的方法

方法|描述
:--|:--
search|检索与正则表达式相匹配的值。
match|找到一个或多个正则表达式的匹配。
replace|替换与正则表达式匹配的子串。
split|把字符串分割为字符串数组。

# 常用正则表达式
```
// 数字校验
只能输入数字：^[0-9]*$
只能输入n位的数字：^\d{n}$
只能输入至少n位的数字：^\d{n,}$
只能输入m~n位的数字：^\d{m,n}$

只能输入整数：^-?[1-9]\d*$
只能输入零和非零开头的正整数：^(0|[1-9][0-9]*)$
只能输入正整数或者两位小数：^[0-9]+\.{0,1}[0-9]{0,2}$
只能输入有两位小数的正实数：^[0-9]+(.[0-9]{2})?$
只能输入有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$
只能输入正整数：^[1-9]\d*$
只能输入非正整数：^-[1-9]\d*|0$
只能输入非零的正整数：^\+?[1-9][0-9]*$
只能输入负整数：^-[1-9]\d*$
只能输入非负整数：^[1-9]\d*|0$
只能输入非零的负整数：^\-[1-9][]0-9*$
只能输入浮点数：^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$

// 字符
只能输入长度为3的字符：^.{3}$
只能输入长度为3-20的所有字符：^.{3,20}$
只能输入由26个英文字母组成的字符串：^[A-Za-z]+$
只能输入由26个大写英文字母组成的字符串：^[A-Z]+$
只能输入由26个小写英文字母组成的字符串：^[a-z]+$
只能输入由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$
只能输入由数字、26个英文字母或者下划线组成的字符串：^\w+$

// 综合
验证用户密码：^[a-zA-Z]\w{5,17}$ 正确格式为：以字母开头，长度在6~18之间，只能包含字符、数字和下划线
只能输入汉字：^[\u4e00-\u9fa5]{0,}$
验证邮箱地址：
	^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$ //只允许英文字母、数字、下划线、英文句号、以及中划线组成
	^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$ // 名称允许汉字、字母、数字，域名只允许英文域名
验证IP地址：^((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))$
验证InternetURL：
验证固定电话号码：^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$正确格式为：XXX-XXXXXXX、XXXX-XXXXXXXX、XXX-XXXXXXX、XXX-XXXXXXXX、XXXXXXX和XXXXXXXX。
验证身份证号（15位或18位数字）：^\d{15}|\d{18}$
验证一年的12个月：^(0?[1-9]|1[0-2])$正确格式为：01～09和1～12
验证一个月的31天：^((0?[1-9])|((1|2)[0-9])|30|31)$正确格式为；01～09和1～31。 匹配中文字符的正则表达式： [\u4e00-\u9fa5]

// 匹配
匹配双字节字符(包括汉字在内)：[^\x00-\xff]
匹配空行的正则表达式：\n[\s| ]*\r
匹配html标签的正则表达式：<(.*)>(.*)<\/(.*)>|<(.*)\/>
匹配首尾空格的正则表达式：(^\s*)|(\s*$)

匹配中文字符的正则表达式： [\u4e00-\u9fa5]
评注：匹配中文还真是个头疼的事，有了这个表达式就好办了

匹配双字节字符(包括汉字在内)：[^\x00-\xff]
评注：可以用来计算字符串的长度（一个双字节字符长度计2，ASCII字符计1）

匹配空白行的正则表达式：\n\s*\r
评注：可以用来删除空白行

匹配HTML标记的正则表达式：<(\S*?)[^>]*>.*?|<.*? />
评注：网上流传的版本太糟糕，上面这个也仅仅能匹配部分，对于复杂的嵌套标记依旧无能为力

匹配首尾空白字符的正则表达式：^\s*|\s*$
评注：可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式

匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*
评注：表单验证时很实用

匹配网址URL的正则表达式：[a-zA-z]+://[^\s]*
评注：网上流传的版本功能很有限，上面这个基本可以满足需求

匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$
评注：表单验证时很实用

匹配国内电话号码：\d{3}-\d{8}|\d{4}-\d{7}
评注：匹配形式如 0511-4405222 或 021-87888822

匹配腾讯QQ号：[1-9][0-9]{4,}
评注：腾讯QQ号从10000开始

匹配中国邮政编码：[1-9]\d{5}(?!\d)
评注：中国邮政编码为6位数字

匹配身份证：\d{15}|\d{18}
评注：中国的身份证为15位或18位

匹配ip地址：\d+\.\d+\.\d+\.\d+
评注：提取ip地址时有用

匹配特定数字：
^[1-9]\d*$　 　  //匹配正整数
^-[1-9]\d*$ 　   //匹配负整数
^-?[1-9]\d*$　　 //匹配整数
^[1-9]\d*|0$　   //匹配非负整数（正整数 + 0）
^-[1-9]\d*|0$　　//匹配非正整数（负整数 + 0）
^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$				   //匹配正浮点数
^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$　            //匹配负浮点数
^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$　  //匹配浮点数
^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$　　    //匹配非负浮点数（正浮点数 + 0）
^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$  //匹配非正浮点数（负浮点数 + 0）
评注：处理大量数据时有用，具体应用时注意修正

匹配特定字符串：
^[A-Za-z]+$　　    //匹配由26个英文字母组成的字符串
^[A-Z]+$　　      //匹配由26个英文字母的大写组成的字符串
^[a-z]+$　　      //匹配由26个英文字母的小写组成的字符串
^[A-Za-z0-9]+$　　//匹配由数字和26个英文字母组成的字符串
^\w+$　　         //匹配由数字、26个英文字母或者下划线组成的字符串
评注：最基本也是最常用的一些表达式

```

## 整理出来的一些常用的正则表达式所属分类
```
/* 数字 */
// 数字
^[0-9]*$或者^[0-9]*$
// 非0整数
^(-)?[1-9][0-9]*$
// 0和非0开头的整数
^0\|[1-9][0-9]*$
// 带1-2位小数的正数或负数
^(-)?\d+(\d{1,2})?$

/* 字符 */
// 至少8个字符最多200
^.{8,200}$
// 汉字
^[\u4e00-\u9fa5]{0,}$
// 邮箱
^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$
^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}$
^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9_]+\.)+[a-zA-Z]{2,}))$
// URL地址
^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$
((https?:|ftp:)\/\/)?|(\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)
// IP地址
\d+\.\d+\.\d+\.\d+ 或者 ((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))
// 腾讯QQ号
[1-9][0-9]{4,}
// HTML标记的正则表达式
<(\S*?)[^>]*>.*?</\1>|<.*? />
// 15位或18位身份证号
^\d{18}$)|(^\d{15}$
15位：^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$
18位：^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$
// 中国车牌号
^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$

/* 密码 */
// 允许3到16个字节，仅包含字母或数字
^[a-zA-Z0-9]{3,16}$
// 字母开头，允许5-16字节，允许字母数字下划线
^[a-zA-Z][a-zA-Z0-9_]{4,15}$
// 至少八个字符，至少一个字母和一个数字
^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$
// 至少八个字符，至少一个字母，一个数字和一个特殊字符
^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$
// 最少八个字符，至少一个大写字母，一个小写字母和一个数字
^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$
// 至少八个字符，至少一个大写字母，一个小写字母，一个数字和一个特殊字符
^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}
// 最少八个最多十个字符，至少一个大写字母，一个小写字母，一个数字和一个特殊字符
^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,10}
```



